# JavaåŸºç¡€è¯­æ³•ï¼ˆä¸­ï¼‰11-14

[TOC]



## 11. String ç±»

**ç‰¹ç‚¹** 

å­—ç¬¦ä¸²å¯¹è±¡ä¸€æ—¦åˆå§‹åŒ–å°±ä¸ä¼šè¢«æ”¹å˜ï¼ˆæŒ‡ç­‰å·å³è¾¹ï¼‰ã€‚

`String s = "abc";`ï¼Œåˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡"abc"åœ¨å¸¸é‡æ± ä¸­ã€‚

`String s1 = new String("abc");`  ï¼Œåˆ›å»ºä¸¤ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªnewå¯¹è±¡å’Œä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡åœ¨å †å†…å­˜ã€‚



**String ç±»ä¸­å¸¸è§æ–¹æ³•ï¼šè·å–ã€è½¬æ¢ã€æ¯”è¾ƒ** 

```java
String s = "abcdef";
// String s = new String("abcdef") // åˆ›å»ºä¸¤ä¸ªå¯¹è±¡
String s1 = s.intern(); // åˆ¤æ–­å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æœ‰æ²¡æœ‰ s çš„å­—ç¬¦ä¸²ï¼Œæœ‰å°±è¿”å›å­—ç¬¦ä¸²ï¼›å’©å‘€å°±åˆ›å»º s çš„ä¸€ä¸ªå­—ç¬¦ä¸²
```

1. è·å– â€”â€” å­—ç¬¦ä¸²çš„é•¿åº¦ã€ä½ç½®ã€å­—ç¬¦ã€å­ä¸²

   ```java
   System.out.println("length=" + s.length()); //è·å–å­—ç¬¦ä¸²çš„é•¿åº¦
   System.out.println("index=" + s.cha rAt(1)); // æŸä¸ªä½ç½®çš„å­—ç¬¦
   System.out.println("c=" + s.indexOf('c')); // æŸä¸ªå­—ç¬¦çš„ä½ç½®
   System.out.println("bc=" + s.indexOf("bc")); // æŸä¸ªå­—ç¬¦ä¸²çš„ä½ç½®
   System.out.println("substring=" + s.substring()); // è·å–å­ä¸²ï¼Œä½ç½®1-4
   ```

2. è½¬æ¢ â€”â€” å­—ç¬¦ã€å­—èŠ‚æ•°ç»„ã€å¤§å°å†™ã€æ›¿æ¢ã€è¿æ¥

   ```java
   char[] arr = s.toCharArray();
   for(int i=0; i < arr.length; i++) // å­—ç¬¦ä¸²è½¬æˆå­—ç¬¦æ•°ç»„
     System.out.println(arr[i]);
   byte[] byt = s.getBytes();
   for(int i=0; i < byt.length; i++) // å­—ç¬¦ä¸²è½¬æˆå­—èŠ‚æ•°ç»„
     System.out.println(byt[i]);
   System.out.println(s.toUpperCase()); // å­—ç¬¦ä¸²è½¬æˆå¤§å†™
   System.out.println(s.replace('a', 'A')); // å­—ç¬¦ä¸²ä¸­æŸä¸ªå­—ç¬¦æ›¿æ¢
   System.out.println(s.replace("ab", "AB")); // å­—ç¬¦ä¸²ä¸­æŸä¸ªå­—ç¬¦ä¸²æ›¿æ¢
   System.out.println("-" + " ab c ".trim() + "-"); // å°†å­—ç¬¦ä¸²ä¸¤ç«¯ç©ºæ ¼åˆ é™¤
   System.out.println(s.concat("ABCD")); // å­—ç¬¦ä¸²è¿æ¥
   System.out.println(String.valueOf(4) + 5); // å°†æ•°å­—è½¬æ¢æˆå­—ç¬¦
   ```

3. æ¯”è¾ƒ â€”â€” ç›¸ç­‰ã€åŒ…å«ã€å¼€å¤´å’Œç»“å°¾ã€å¤§å°

   ```java
   System.out.println(s.equals("abcdef")); // å­—ç¬¦ä¸²ç›¸ç­‰
   System.out.println(s.equalsIgnore("ABCDEF")); // å¿½ç•¥å¤§å°å†™
   System.out.println(s.contains("abc")); // æ˜¯å¦åŒ…å«ï¼ŒindexOf
   System.out.println(s.startsWith("abc")); // æ˜¯å¦ä»¥æŸä¸ªå­—ç¬¦ä¸²å¼€å¤´
   System.out.println(s.endsWith("ef")); // æ˜¯å¦ä»¥æŸä¸ªå­—ç¬¦ä¸²ç»“å°¾
   System.out.println("abc".compareTo("aqw")); // æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦çš„å¤§å°
   ```





## 12. StringBuffer ç±»

**ç‰¹ç‚¹** 

é•¿åº¦æ˜¯å¯å˜çš„ï¼›å¯ä»¥å­˜æ”¾ä¸åŒç±»å‹çš„æ•°æ®ï¼›æœ€ç»ˆå°†æ•´åˆçš„æ•°æ®ä»¥å­—ç¬¦ä¸²è¾“å‡ºï¼›å¯ä»¥å¯¹å­—ç¬¦ä¸²ä¿®æ”¹ã€‚



**åŠŸèƒ½** 

1. æ·»åŠ 
   - append(data)ï¼šåœ¨ç¼“å†²åŒºä¸­æ·»åŠ æ•°æ®ï¼Œä»å°¾éƒ¨è¿½åŠ 
   - insert(index, data)ï¼šåœ¨æŒ‡å®šä½ç½®æ’å…¥æ•°æ®
2. åˆ é™¤
   - delete(start, end)ï¼šåˆ é™¤æ•°æ®ï¼ŒåŒ…å«å¼€å§‹ã€ä¸åŒ…å«ç»“æŸ[start, end)
   - deleteChatAt(index)ï¼šåˆ é™¤æŒ‡å®šä½ç½®çš„æ•°æ®
3. æŸ¥æ‰¾
   - indexOfï¼šç»™å‡ºæŒ‡å®šå­—ç¬¦çš„ä½ç½®
   - charAtï¼šç»™å‡ºæŒ‡å®šä½ç½®çš„å­—ç¬¦
4. ä¿®æ”¹
   - replace(start, end, data)ï¼šæŠŠæŒ‡å®šåŒºé—´å†…æ•°æ®æ›¿æ¢
   - reverse()ï¼šé€†åºç¼“å†²å™¨
5. å…¶å®ƒ
   - setLength(int newLength)ï¼šè®¾å®šç¼“å†²åŒºçš„é•¿åº¦
   - revese()ï¼šé€†åºç¼“å†²å™¨



**å¯å˜é•¿æ•°ç»„** 

StringBuffer æ˜¯çº¿ç¨‹å®‰å…¨çš„å¯å˜å­—ç¬¦ï¼Œåºåˆ—çš„é•¿åº¦æ˜¯å¯å˜çš„ï¼Œè°ƒç”¨ StringBuffer çš„ append æ–¹æ³•ï¼Œæ¥æ”¹å˜ StringBuffer çš„é•¿åº¦ã€‚

å¦‚æœçŸ¥é“æ•°æ®é•¿åº¦ï¼Œå¯ä»¥ç›´æ¥åˆ›å»ºæŒ‡å®šé•¿åº¦çš„ç¼“å†²åŒºï¼Œè¿™æ ·ç›¸å¯¹éœ€è¦å»¶é•¿çš„ç¼“å†²åŒºæ•ˆç‡é«˜



**StringBuilder ç±»**

StringBuilder æ˜¯ä¸€ä¸ªå¯å˜çš„å­—ç¬¦åºåˆ—ã€‚å»ºè®®ä¼˜å…ˆé‡‡ç”¨è¯¥ç±»ï¼Œå› ä¸ºåœ¨å¤§å¤šæ•°å®ç°ä¸­ï¼Œå®ƒæ¯” StringBuffer è¦å¿«ã€‚

1. ä¸‰è€…åœ¨æ‰§è¡Œé€Ÿåº¦æ–¹é¢çš„æ¯”è¾ƒï¼š

   StringBuilder > StringBuffer > String

2. String <ï¼ˆStringBufferï¼ŒStringBuilderï¼‰çš„åŸå› 

   Stringæ˜¯â€œå­—ç¬¦ä¸²å¸¸é‡â€ï¼Œæ˜¯ä¸å¯æ”¹å˜çš„å¯¹è±¡ã€‚

   ç”±äºè¿™ç§æœºåˆ¶ï¼Œæ¯å½“ç”¨ String æ“ä½œå­—ç¬¦ä¸²æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨ä¸æ–­çš„åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œè€ŒåŸæ¥çš„å¯¹è±¡å°±ä¼šå˜ä¸ºåƒåœ¾è¢« ï¼§ï¼£ å›æ”¶æ‰ï¼Œæ•ˆç‡å¤§å¤§é™ä½ã€‚

   è€Œ StringBuffer ä¸ StringBuilder å°±ä¸ä¸€æ ·äº†ï¼Œä»–ä»¬æ˜¯å­—ç¬¦ä¸²å˜é‡ï¼Œæ˜¯å¯æ”¹å˜çš„å¯¹è±¡ã€‚

   æ¯å½“æˆ‘ä»¬ç”¨å®ƒä»¬å¯¹å­—ç¬¦ä¸²åšæ“ä½œæ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šæ“ä½œçš„ï¼Œè¿™æ ·å°±ä¸ä¼šåƒ String ä¸€æ ·åˆ›å»ºä¸€äº›å¯¹è±¡å¤–çš„å¯¹è±¡è¿›è¡Œæ“ä½œï¼Œå½“ç„¶é€Ÿåº¦å°±å¿«äº†ã€‚

3. StringBuilderä¸ StringBuffer

   StringBuilderï¼šçº¿ç¨‹éå®‰å…¨çš„

   StringBufferï¼šçº¿ç¨‹å®‰å…¨çš„

   StiringBuffer è·Ÿ StringBuilder ç±»ä¼¼ï¼Œåªä¸è¿‡ä¸ºäº†å®ç°åŒæ­¥ï¼Œå¾ˆå¤šæ–¹æ³•ä½¿ç”¨ Synchronized ä¿®é¥°ã€‚

   å½“æˆ‘ä»¬åœ¨å­—ç¬¦ä¸²ç¼“å†²åŒºè¢«å¤šä¸ªçº¿ç¨‹ä½¿ç”¨æ—¶ï¼ŒJVMä¸èƒ½ä¿è¯ StringBuilder çš„æ“ä½œæ˜¯å®‰å…¨çš„ï¼Œè™½ç„¶å®ƒçš„é€Ÿåº¦æœ€å¿«ï¼Œä½†æ˜¯å¯ä»¥ä¿è¯ StringBuffer æ˜¯å¯ä»¥æ­£ç¡®æ“ä½œçš„ã€‚

   å½“ç„¶å¤§å¤šæ•°æƒ…å†µä¸‹å°±æ˜¯æˆ‘ä»¬æ˜¯åœ¨å•çº¿ç¨‹ä¸‹è¿›è¡Œçš„æ“ä½œï¼Œæ‰€ä»¥å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯å»ºè®®ç”¨ StringBuilder è€Œä¸ç”¨ StringBuffer çš„ï¼Œå°±æ˜¯å› ä¸ºé€Ÿåº¦çš„ç¼˜æ•…ã€‚





## 13. åŸºæœ¬æ•°æ®ç±»å‹å¯¹è±¡ç±»å‹

**ä¸»è¦ä½œç”¨** 

å°†åŸºæœ¬ç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹è¿›è¡Œäº’ç›¸è½¬æ¢

- åŸºæœ¬ç±» â€”â€”> å­—ç¬¦ä¸²ç±»å‹

  `åŸºæœ¬ç±»å‹ + ""`ï¼Œæˆ–è€…ä½¿ç”¨ `valueOf`  æ–¹æ³•

- å­—ç¬¦ä¸² â€”â€”> åŸºæœ¬ç±»å‹

  ä½¿ç”¨åŒ…è£…ç±»ä¸­çš„é™æ€æ–¹æ³• `parseXxx("xxx")` xxxæ˜¯æ•°æ®ç±»å‹

  å…ˆå°è£…æˆå¯¹è±¡ï¼Œç„¶åè°ƒç”¨ `intValue()` æ–¹æ³•



**è¿›åˆ¶è½¬æ¢** 

æ•´æ•°è½¬æˆå…¶å®ƒè¿›åˆ¶ï¼š`toXxxString(int i)` ï¼šå°†æ•´æ•°è½¬æˆ Xxx è¿›åˆ¶

å…¶å®ƒè¿›åˆ¶è½¬æˆæ•´æ•°ï¼š`paeseInt(String s, int radix) 



**è‡ªåŠ¨è£…ç®±** 

`i = new Integer(4);` è‡ªåŠ¨è£…ç®±ï¼Œå¦‚æœè£…ç®±ä¸€ä¸ªå­—èŠ‚ï¼Œåˆ™æ•°æ®ä¼šå…±äº«ï¼Œä¸ä¼šå¼€è¾Ÿæ–°ç©ºé—´ã€‚å¦‚æœå¯¹ `i` è¿›è¡Œæ“ä½œï¼Œå°±ä¼šæ‹†ç®±ï¼Œå˜æˆæ•°æ®ç±»å‹è¿›è¡Œæ¢ç®—ã€‚ 





## 14. é›†åˆ

### 1âƒ£ï¸é›†åˆæ¦‚å¿µå’Œç‰¹ç‚¹

**æ¦‚å¿µ** 

å¯¹å¯¹è±¡è¿›è¡Œå­˜å‚¨ï¼Œå¦‚æœå¯¹è±¡ä¸ªæ•°ä¸ç¡®å®šï¼Œå°±å‡ºç°äº†**é›†åˆå®¹å™¨**è¿›è¡Œå­˜å‚¨ã€‚

**ç‰¹ç‚¹**

- ç”¨äºå­˜å‚¨å¯¹è±¡çš„å®¹å™¨
- é›†åˆçš„é•¿åº¦æ˜¯å¯ä»¥å˜åŒ–çš„
- é›†åˆä¸­ä¸å¯ä»¥å­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹

**æ•°ç»„ä¸é›†åˆçš„åŒºåˆ«** 

1. æ•°ç»„é•¿åº¦ä¸å¯å˜åŒ–è€Œä¸”æ— æ³•ä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®ï¼›é›†åˆç±»ç”¨äºä¿å­˜æ•°é‡ä¸ç¡®å®šçš„æ•°æ®ï¼Œä»¥åŠä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®ã€‚
2. æ•°ç»„å…ƒç´ æ—¢å¯ä»¥æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ï¼›é›†åˆåªèƒ½ä¿å­˜å¯¹è±¡ã€‚

**Collection å’Œ Collections çš„åŒºåˆ«** 

1. collectionæ˜¯ä¸Šçº§æ¥å£ï¼Œç»§æ‰¿ä»–çš„å­ç±»æœ‰Listå’ŒSet;

2. collectionsæ˜¯é›†åˆçš„å·¥å…·ç±»ï¼Œæä¾›ä¸€ç³»åˆ—é™æ€æ–¹æ³•å¯¹é›†åˆçš„æœç´¢ã€æŸ¥æ‰¾ã€åŒæ­¥æ“ä½œï¼›

**Enumeration å’Œ Iterator æ¥å£çš„åŒºåˆ«** 

Iteratorä»£æ›¿äº†Enumerationæ¥å£ï¼ŒEnumerationæ˜¯ä¸ªæ—§çš„è¿­ä»£å™¨ï¼›

1. Iteratorçš„æ–¹æ³•åæ¯”Enumerationæ›´ç§‘å­¦ï¼›
2. Iteratoræ¯”Enumerationæ›´å®‰å…¨ï¼Œå› ä¸ºå½“ä¸€ä¸ªé›†åˆè¢«éå†æ—¶å®ƒä¼šé˜»æ­¢å…¶ä»–çº¿ç¨‹å¯¹é›†åˆçš„ä¿®æ”¹ï¼›
3. Iteratorèƒ½å¤Ÿåˆ é™¤å…ƒç´ ï¼Œè€ŒEnumerationä¸èƒ½åˆ é™¤å…ƒç´ ï¼›



### 2âƒ£ï¸é›†åˆæ¡†æ¶

é›†åˆå®¹å™¨å› ä¸ºå†…éƒ¨çš„æ•°æ®ç»“æ„ä¸åŒï¼Œæœ‰å¤šç§å…·ä½“å®¹å™¨ï¼Œä¸æ–­å‘ä¸ŠæŠ½å–ï¼Œå°±å½¢æˆäº†é›†åˆæ¡†æ¶ã€‚

æ¡†æ¶çš„é¡¶å±‚å°±æ˜¯ Collection æ¥å£

<img src="./img/é›†åˆæ¡†æ¶Collection.png" alt="img" style="zoom:100%;" /> 

<img src="./img/é›†åˆæ¡†æ¶Map.png" alt="img" style="zoom:100%;" /> 

Javaé›†åˆç±»ä¸»è¦ç”±ä¸¤ä¸ªæ ¹æ¥å£Collectionå’ŒMapæ´¾ç”Ÿå‡ºæ¥çš„ã€‚

Collectionæ´¾ç”Ÿå‡ºäº†ä¸‰ä¸ªå­æ¥å£ï¼šListã€Setã€Queueï¼ˆJava5æ–°å¢çš„é˜Ÿåˆ—ï¼‰ï¼Œå› æ­¤Javaé›†åˆå¤§è‡´ä¹Ÿå¯åˆ†æˆListã€Setã€Queueã€Mapå››ç§æ¥å£ä½“ç³»ï¼Œï¼ˆæ³¨æ„ï¼šMapä¸æ˜¯Collectionçš„å­æ¥å£ï¼‰ã€‚

å…¶ä¸­

- Listä»£è¡¨äº†æœ‰åºå¯é‡å¤é›†åˆï¼Œå¯ç›´æ¥æ ¹æ®å…ƒç´ çš„ç´¢å¼•æ¥è®¿é—®ï¼›
- Setä»£è¡¨æ— åºä¸å¯é‡å¤é›†åˆï¼Œåªèƒ½æ ¹æ®å…ƒç´ æœ¬èº«æ¥è®¿é—®ï¼›
- Queueæ˜¯é˜Ÿåˆ—é›†åˆï¼›
- Mapä»£è¡¨çš„æ˜¯å­˜å‚¨key-valueå¯¹çš„é›†åˆï¼Œå¯æ ¹æ®å…ƒç´ çš„keyæ¥è®¿é—®valueã€‚

ä¸Šå›¾ä¸­æ·¡ç»¿è‰²èƒŒæ™¯è¦†ç›–çš„æ˜¯é›†åˆä½“ç³»ä¸­å¸¸ç”¨çš„å®ç°ç±»ï¼Œåˆ†åˆ«æ˜¯ArrayListã€LinkedListã€ArrayQueueã€HashSetã€TreeSetã€HashMapã€TreeMapç­‰å®ç°ç±»ã€‚



### 3âƒ£ï¸Collection çš„å¸¸è§æ–¹æ³•

- å¢åŠ 

  `boolean add(Object)` 

  `boolean addAll(Collection coll)` 

- åˆ é™¤

  `remove`ã€`removeAll` åˆ é™¤äºŒè€…é›†åˆçš„äº¤é›†ã€`clear` 

- åˆ¤æ–­

  `contains`ã€`containsAll`ã€`isEmpty`

- è·å–

  `size` é›†åˆå¤§å°ã€`iterator` è¿­ä»£å™¨

- å…¶å®ƒ

  `retainAll` å–äº¤é›†ã€`toArray` é›†åˆè½¬æ•°ç»„





### 4âƒ£ï¸è¿­ä»£å™¨

**åŸç†** 

æ¯ä¸€ä¸ªå®¹å™¨å†…éƒ¨çš„æ•°æ®ç»“æ„ä¸åŒï¼Œæ‰€ä»¥è¯¥è¿­ä»£å™¨å¯¹è±¡åº”è¯¥æ˜¯åœ¨å®¹å™¨å†…éƒ¨å®ç°çš„ã€‚å¯¹äºä½¿ç”¨å®¹å™¨è€Œè¨€ï¼Œå…·ä½“çš„å®ç°ä¸é‡è¦ï¼Œåªè¦é€šè¿‡å®¹å™¨è·å–åˆ°è¯¥å®ç°çš„è¿­ä»£å™¨å¯¹è±¡å³å¯ï¼Œä¹Ÿå°±æ˜¯ iterator æ–¹æ³•

Iterator æ¥å£å°±æ˜¯å¯¹æ‰€æœ‰ Collection å®¹å™¨è¿›è¡Œå…ƒç´ å–å‡ºçš„å…¬å…±æ¥å£

```java
Collection c1 = new ArrayList(); // åˆ›å»ºä¸€ä¸ª ArrayList å®¹å™¨ c1
// c1.iterator() è°ƒç”¨è¯¥å®¹å™¨ä¸­çš„æ–¹æ³•ï¼Œè¿”å›è¿­ä»£å™¨å¯¹è±¡ï¼Œç›¸åº”çš„è°ƒç”¨å¯¹è±¡ä¸­æ“ä½œå†…å®¹çš„æ–¹æ³•
for (Iterator it = c1.iterator(); it.hashNext()){
  System.out.println(it.next());
}
```

ä¸ªäººç†è§£

Collection å’Œ Iterator éƒ½æ˜¯æ¥å£ï¼ŒCollection æ¥å£é‡Œé¢æ”¾ç€æ‰€æœ‰ç±»å‹å®¹å™¨éƒ½æœ‰çš„æ–¹æ³•ï¼ˆå‘ä¸ŠæŠ½å–å¾—åˆ°ï¼‰ï¼ŒIterator æ¥å£å†…æ”¾ç€å¤„ç†å®¹å™¨å†…å®¹ hashNextã€next ç­‰æŠ½è±¡æ–¹æ³•ã€‚

ä»»æ„ä¸€ä¸ªç±»å‹çš„å®¹å™¨ï¼Œéƒ½å®ç°äº† Collection å’Œ Iterator æ¥å£å†…å®¹ï¼Œå¹¶å¯¹ä¸Šé¢çš„æ¥å£ä¸­çš„æ–¹æ³•è¿›è¡Œè¦†å†™ï¼Œé’ˆå¯¹è‡ªèº«å®¹å™¨ç‰¹ç‚¹è¿›è¡Œæ•°æ®å…ƒç´ æ“ä½œã€‚

æ‰“ä¸ªæ¯”æ–¹ï¼Œå®¹å™¨ç±»ä¼¼æŠ“å¨ƒå¨ƒæœºï¼Œé‡Œé¢çš„çˆªå­æ˜¯è¿­ä»£å™¨ï¼Œä½†åªæä¾›å¤–éƒ¨çš„æ“çºµæ†å¯¹å†…è¿›è¡Œæ“ä½œã€‚



### 5âƒ£ï¸Collection çš„å­ç±»æ¥å£ List

**ç‰¹ç‚¹** 

List æœ‰åºï¼ˆå­˜å…¥å’Œå–å‡ºé¡ºåºä¸ä¸€è‡´ï¼‰ï¼Œæœ‰ç´¢å¼•ï¼Œå…ƒç´ å¯é‡å¤ï¼›Set å…ƒç´ ä¸å¯é‡å¤

List åŠŸèƒ½æ“ä½œï¼šç›¸å¯¹äº Collectionï¼Œé™¤äº†å¢åˆ æŸ¥ï¼Œè¿˜æ‰©å±•äº†**ä½ç½®ç´¢å¼•**å’Œä¿®æ”¹æ•°æ®ï¼ˆsetï¼‰

List è¿­ä»£å™¨ï¼šé™¤äº† iterator çš„åŠŸèƒ½å¤–ï¼Œè¿˜æœ‰è‡ªå·±ç‰¹å®šçš„ list Iterator åŠŸèƒ½ã€‚å› ä¸º iterator ä¸å…è®¸åœ¨éå†æ“ä½œè¿‡ç¨‹ä¸­ä¿®æ”¹æˆ–æ·»åŠ æ•°æ®ï¼Œæ‰€ä»¥æœ‰äº†è‡ªå·±çš„ listIteratorï¼Œå¯ä»¥åœ¨éå†è¿‡ç¨‹ä¸­ä½¿ç”¨ listIterator ä¸­çš„æ–¹æ³•è¿›è¡Œä¿®æ”¹æˆ–æ·»åŠ æ“ä½œã€‚

```java
List l1 = new Array();
l1.add("abc1");
l1.add("abc2");
l1.add("abc3");
l1.add("abc4");
ListIterator it = l1.listIterator(); // åˆ›å»º list è¿­ä»£å™¨
while(it.hasNext()){
  Obejct obj = it.next();
  if(obj.equals("abc1")){
    it.set("123"); // å°†â€œabc1â€ä¿®æ”¹â€œ123â€
  }
  else if (obj.euqals("abc2")){
    it.add("456"); // å°†â€œabc2â€ä¿®æ”¹â€œ456â€
  }
  else {
    System.out.println(obj);
  }
}
System.out.println(l1);
```

**List çš„å®ç°ç±»** 

Vectorï¼šå†…éƒ¨æ˜¯æ•°ç»„æ•°æ®ç»“æ„ï¼Œæ˜¯åŒæ­¥çš„ã€‚æœ€è€ç‰ˆæœ¬ï¼Œå‡ ä¹ä¸ç”¨äº†ã€‚

ArrayListï¼šå†…éƒ¨æ˜¯æ•°ç»„æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸åŒæ­¥çš„ã€‚å¸¦æ¥ Vectorï¼ŒæŸ¥è¯¢é€Ÿåº¦å¾ˆå¿«ã€‚

LinkedListï¼šå†…éƒ¨æ˜¯é“¾è¡¨æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸åŒæ­¥çš„ã€‚å¢åˆ å…ƒç´ å¾ˆå¿«ã€‚



**LinkedList ç±»é“¾è¡¨æ“ä½œ** 

- æ·»åŠ 

  `addFirst(E e)`ã€`addLast(E e)` 

- è·å–

  `getFisrt()`ã€`getLast()`ï¼šè·å–ä½†ä¸ç§»é™¤ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©ºï¼ŒæŠ›å‡º `NoSuchElementException` 

  `peekFirst()`ã€`peekLast()` ï¼šè·å–ä½†ä¸ç§»é™¤ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œè¿”å› `null` ã€‚

  `removeFirst()`ã€`removeLast()`ï¼šè·å–å…ƒç´ å¹¶ç§»é™¤ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©ºï¼ŒæŠ›å‡º `NoSuchElementException` 

  `pollFirst()` ã€`pollLast()` ï¼šè·å–å…ƒç´ å¹¶ç§»é™¤ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œè¿”å› `null` ã€‚

- ç”¨åˆ—è¡¨å®ç°é˜Ÿåˆ—çš„æ•°æ®ç»“æ„

  é˜Ÿåˆ—ï¼šå…ˆè¿›å…ˆå‡º

  å †æ ˆï¼šå…ˆè¿›åå‡º

  ```java
  class DuiLie{
    private LinkedList li;
    public DuiLie(){
      li = new LinkedList();
    }
    public void addDL(Object obj){
      li.addLast(obj);
    }
    public Object getDL(){
      return li.removeFirst();
    }
    public boolean DListEmpty(){
      return li.isEmpty();
    }
  }
  ```



**ArrayList ç±»çš„æ•°æ®æ“ä½œ** 

æ•°æ®æ·»åŠ ã€åˆ é™¤ç­‰ä¸ä¸Šé¢ç›¸ä¼¼ã€‚





### 6âƒ£ï¸Collection çš„å­ç±»æ¥å£ Set ä¸­çš„ HashSet

Setå…ƒç´ ä¸å¯é‡å¤ï¼Œæ— åºã€‚

HashSetï¼šå†…éƒ¨æ•°æ®ç»“æ„æ˜¯å“ˆå¸Œè¡¨ã€ä¸åŒæ­¥ã€‚

HashSet æ˜¯æ— åºçš„ï¼Œä½†æ˜¯å®ƒçš„å­ç±» LinkedHashSet æ˜¯æœ‰åºçš„ï¼Œæ€ä¹ˆå­˜è¿›å»ã€æ€ä¹ˆè¯»å‡ºæ¥ï¼Œç”¨äº†é“¾è¡¨è¿æ¥ã€‚



**å“ˆå¸Œç®—æ³•** 

ç»™ä¸€ä¸ªå…ƒç´ ï¼Œé€šè¿‡å“ˆå¸Œç®—æ³•ï¼Œå°±å¯ä»¥å¾—å‡ºè¯¥å…ƒç´ çš„ä½ç½®ï¼Œè¿™æ ·æ¯”éå†ç®—æ³•è¦å¿«å¾—å¤šã€‚

```java
function(element){
  // é€šè¿‡å“ˆå¸Œç®—æ³•
  return index;
}
```

**å“ˆå¸Œè¡¨åˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸åŒ** ï¼ˆHashCode â€”â€”> equalsï¼‰

1. å…ˆé€šè¿‡å“ˆå¸Œç®—æ³•ï¼ˆHashCodeï¼‰ï¼Œå¾—å‡ºå“ˆå¸Œå€¼ï¼Œå“ˆå¸Œå€¼ä¸åŒåˆ™å…ƒç´ ä¸åŒï¼›
2. è‹¥å“ˆå¸Œå€¼ç›¸åŒï¼Œåˆ™éœ€è¦ equals æ–¹æ³•åˆ¤æ–­ã€‚

**å¦‚æœä¸¤ä¸ªå¯¹è±¡ equals() ç›¸åŒï¼Œé‚£ä¹ˆå®ƒä»¬çš„ hashCode() å€¼ä¸€å®šç›¸åŒ**ï¼›

**å¦‚æœä¸¤ä¸ªå¯¹è±¡ hashCode() ä¸åŒï¼Œé‚£ä¹ˆå®ƒä»¬çš„ equals() å€¼ä¸€å®šä¸åŒ**ã€‚



**HashSet å­˜æ”¾è‡ªå®šä¹‰å¯¹è±¡** 

```java
import Java.util.HashSet;
import Java.util.Iterator;

public class Hashset1{
  public static void main(String[] args){
    HashSet h = new HashSet(); // é‡Œé¢å­˜æ”¾çš„æ˜¯å“ˆå¸Œå€¼
    // æ¯æ¬¡åˆ›å»ºå¯¹è±¡ä¼šè°ƒç”¨ HashCode æ–¹æ³•å¾—å‡ºå“ˆå¸Œå€¼ï¼Œå³å­˜æ”¾ä½ç½®
    h.add(new Person("xx1", 14));
    h.add(new Person("xx2", 12));
    h.add(new Person("xx3", 13));
    // å¾—å‡ºå“ˆå¸Œå€¼ç›¸ç­‰ï¼Œåˆ™ç”¨å“ˆå¸Œå€¼ç›¸ç­‰å·²å­˜çš„å¯¹è±¡ä¸å½“å‰è¦å­˜å…¥çš„å¯¹è±¡è¿›è¡Œ equals æ–¹æ³•æ¯”è¾ƒã€‚è‹¥ equals æ¯”è¾ƒç›¸ç­‰ï¼Œåˆ™ä¸å­˜ã€‚
    h.add(new Person("xx1", 14));
    
    Iterator it = h.iterator();
    while(it.hasNext()){
      Person p = (Person) it.next();
      System.out.println(p.getName() + "--ç»“æœ--" + p.getAge());
    }
  }
}

class Person implements Comparable{
  private String name;
  private int age;
  Person(String name, int age){
    this.name = name;
    this.age = age;
  }
  
  @Override /* å¯¹ Object ä¸­çš„å“ˆå¸Œç®—æ³•è¿›è¡Œäº†é‡å†™ */
  public int hashCode(){
    System.out.println(this + "...hashcode()"); // å“ªä¸ªå¯¹è±¡è°ƒç”¨ thisï¼Œthiså°±ä»£è¡¨è¿™ä¸ªå¯¹è±¡
    return name.hashCode()+age;
  }
  
  @Override /* å¯¹ Object ä¸­çš„ equals ç®—æ³•è¿›è¡Œäº†é‡å†™ */
  public boolean equals(Object obj){ // å½“å“ˆå¸Œå€¼ç›¸ç­‰æ—¶ï¼Œå½“å‰è¦å†™å…¥çš„å¯¹è±¡(this)ä¼šè°ƒç”¨è¯¥æ–¹æ³•ä¸åŸæ¥å¯¹è±¡(obj)è¿›è¡Œæ¯”è¾ƒ
    Person p = (Person) obj;
    System.out.println(this + "...euqals");
    return this.name.equals(p.name) && this.age = p.age;
  }
  
  public String getName(){
    return name;
  }
  public int getAge(){
    return age;
  }
  
  @Override /* ç”¨æ¥è¾“å‡ºå½“å‰å¯¹è±¡ this çš„å­—ç¬¦ä¸²å½¢å¼*/
  public String toString(){
    return name + ":" + age;
  }
  
  @Override /* è¿™ä¸ªå‡½æ•°ç»™ TreeSet è°ƒç”¨ï¼Œå¯¹ Person å¯¹è±¡è¿›è¡Œæ¯”è¾ƒ */
  public int compareTo(Object o){ // this è¡¨ç¤ºå½“å‰å¯¹è±¡ã€‚è°è°ƒç”¨å°±ä»£è¡¨è°
    int temp;
    Person p = (Person) o;
    temp = this.name.compareTo(p.name);
    return temp == 0 ? this.age - p.age : temp; // å…ˆå®‰è£…å§“åæ’åºï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™æŒ‰ç…§å¹´é¾„
  }
}
```





### 7âƒ£ï¸Collection çš„å­ç±»æ¥å£ Set ä¸­çš„ TreeSet

TreeSetï¼šå¯ä»¥å¯¹ Set ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œä¸åŒæ­¥ã€‚å…ƒç´ æ˜¯ä»¥äºŒå‰æ ‘çš„å½¢å¼å­˜æ”¾çš„ã€‚

åˆ¤æ–­å…ƒç´ çš„å”¯ä¸€æ€§çš„æ–¹å¼ï¼šæ ¹æ®æ¯”è¾ƒæ–¹æ³•çš„è¿”å›ç»“æœåˆ¤æ–­ï¼Œç»“æœ 0 å°±ä¸ºç›¸ç­‰ã€‚

æ’åºæ–¹æ³•ä¹‹ä¸€ï¼šè®© TreeSet ä¸­çš„å…ƒç´ çš„ç±»å®ç° Comparable æ¥å£çš„ compareTo æ¯”è¾ƒæ–¹æ³•ï¼ˆç±»ç›´æ¥å®ç°æ¥å£ï¼‰

æ’åºæ–¹æ³•ä¹‹äºŒï¼šç»™ TreeSet æ„é€ å‡½æ•°ä¼ å…¥æ¯”è¾ƒå™¨å¯¹è±¡ï¼Œåˆ™ä½¿ç”¨å®ç° Comparator æ¥å£çš„å­ç±»å¯¹è±¡æ–¹æ³•ï¼ˆåˆ›å»ºæ¯”è¾ƒå™¨ï¼‰

```java
import Java.util.Comparator;
import Java.util.Iterator;
import Java.util.TreeSet;

public class TreeSet1 {
  public static void main(String[] args){
    // ä¼ å…¥æ¯”è¾ƒå™¨å¯¹è±¡ï¼Œåˆ™ä½¿ç”¨å®ç° Comparator æ¥å£å­ç±»å¯¹è±¡çš„æ–¹æ³•
    TreeSet tr = new TreeSet(new TreeCompare); 
    // è‹¥ä¸ä¼ å…¥æ¯”è¾ƒå™¨å¯¹è±¡ï¼Œåˆ™ä½¿ç”¨ Person å¯¹è±¡ä¸­çš„æ¯”è¾ƒæ–¹æ³• compareTo
    // TreeSet tr = new TreeSet();
    // å­˜æ”¾çš„å¯¹è±¡ä¼šè°ƒç”¨ï¼Œå¯¹è±¡ä¸­çš„æ¯”è¾ƒæ–¹æ³•
    tr.add(new Person("yy1", 11));
    tr.add(new Person("yy4", 14));
    tr.add(new Person("yy2", 12));
    tr.add(new Person("yy3", 11));
    tr.add(new Person("yy2", 19));
    
    Iterator it = tr.iterator();
    while(it.hasNext()){
      Person p = (Person) it.next();
      System.out.println(p.getName() + "--ç»“æœ--" + p.getAge());
    }
  }
}

/* ç¬¬äºŒç§æ’åºæ–¹æ³•ï¼šåˆ©ç”¨æ¯”è¾ƒå™¨æ’åº  */
class TreeCompara implements Comparator{
  @Override
  public int compare(Object o1, Object o2){
    int temp;
    Person p1 = (Person) o1;
    Person p2 = (Person) o2;
    temp = p1.getAge() - p2.getAge(); // æŒ‰ç…§å¹´é¾„æ¯”ï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™æŒ‰ç…§åå­—æ¯”
    return temp == 0? p1.getName().compareTo(p2.getName()):temp;
  }
}
```



### 8âƒ£ï¸é›†åˆ Collection çš„æ€»ç»“

<img src="./img/é›†åˆæ€»ç»“.png" alt="img" style="zoom:100%;" />

- TreeSet

  å†…ä¸ºäºŒå‰æ ‘ï¼Œéœ€è¦ç”¨ Comparator æˆ– Comparable æ¥å£ï¼Œè¿›è¡Œæ¯”è¾ƒæ’åº

- HashSet

  å†…ä¸ºå“ˆå¸Œè¡¨ï¼Œéœ€è¦ç”¨åˆ° HashCode å’Œ equals æ–¹æ³•è¿›è¡Œè®¡ç®—å“ˆå¸Œå€¼å’Œåˆ¤æ–­ç›¸ç­‰



### 9âƒ£ï¸æ³›å‹ â­ï¸

**ç‰¹ç‚¹** 

- å°†è¿è¡Œæ—¶æœŸçš„é—®é¢˜ï¼ˆç±»å‹è½¬æ¢å¼‚å¸¸ï¼‰ï¼Œè½¬åˆ°äº†ç¼–è¯‘æ—¶æœŸï¼Œé¿å…äº†å¼ºåˆ¶è½¬æ¢çš„éº»çƒ¦ã€‚

- æ³›å‹æŠ€æœ¯æ˜¯ç»™ç¼–è¯‘å™¨ä½¿ç”¨çš„æŠ€æœ¯ï¼Œç”¨äºç¼–è¯‘æ—¶æœŸï¼Œç¡®ä¿ç±»å‹å®‰å…¨ã€‚è¿è¡Œæ—¶ï¼Œä¼šå°†æ³›å‹å»æ‰ï¼Œç”Ÿæˆçš„ class æ–‡ä»¶ä¸­ä¸å¸¦æ³›å‹ï¼Œè¿™å«æ³›å‹çš„æ“¦é™¤ã€‚ï¼ˆä¸ºä»€ä¹ˆæ“¦é™¤ï¼Œä¸ºäº†å…¼å®¹ç±»åŠ è½½å™¨ï¼‰

- æ³›å‹è¡¥å¿ï¼šåœ¨è¿è¡Œä¸­é€šè¿‡è·å–å…ƒç´ çš„ç±»å‹è¿›è¡Œè½¬æ¢åŠ¨ä½œï¼Œä¸ç”¨ä½¿ç”¨è€…å†å¼ºåˆ¶è½¬æ¢äº†ã€‚

  ä¸ªäººç†è§£ï¼šæ³›å‹å°±ç”¨ä¸€ä¸ªç¬¦å·æˆ–è€…å…·ä½“å¯¹è±¡æŒ‡å®šäº†å„ç§é›†åˆæˆ–æ¯”è¾ƒå™¨ç­‰ä¸­é”æ“ä½œçš„å…ƒç´ ç±»å‹ï¼Œç¼–è¯‘æ—¶å°±èƒ½æ£€æµ‹æ“ä½œå¯¹è±¡æ˜¯å¦ç¬¦åˆæ³›å‹çš„æŒ‡å®šï¼Œæé«˜äº†å®‰å…¨æ€§ã€‚



**ä½œç”¨** 

å°±æ˜¯ä¸€ä¸ªç”¨äºæ¥å—å…·ä½“å¼•ç”¨æ•°æ®ç±»å‹çš„å‚æ•°èŒƒå›´ã€‚åœ¨ç¨‹åºä¸­ï¼Œåªè¦ç”¨åˆ°äº†å¸¦æœ‰ `<>` ç±»æˆ–æ¥å£ï¼Œå°±è¦ç¡®å®šå¼•ç”¨æ•°æ®çš„ç±»å‹ã€‚



**æ³›å‹ç±»** 

å½“ç±»ä¸­æ“ä½œçš„å¼•ç”¨æ•°æ®ç±»å‹ä¸ç¡®å®šçš„æ—¶å€™ï¼Œå°±æ˜¯ç”¨æ³›å‹æ¥è¡¨ç¤ºã€‚

```java
package GenericClass;
class Student{}
class Worker{}

class Tool<Person> { // ç”¨æ¥å¯¹ç±»çš„å¼•ç”¨æ•°æ®ç±»å‹è¿›è¡Œæ“ä½œï¼Œä½†æ˜¯æ“ä½œç±»å‡æœ‰å¤šç§
  private Person p;
  public Person getObj(){
    return p;
  }
  
  public void setObj(Person p){
    this.p = p;
  }
}

public class GenericClassDemo{
  public static void main(String[] args){
    Tool<Student> t = new Tool<>(); // æ˜ç¡®ä¹‹åï¼Œt å¯¹è±¡åªèƒ½æ“ä½œ Student å¯¹è±¡
    t.setObj(new Student());
  }
}
```



**æ³›å‹æ–¹æ³•** 

åœ¨æ–¹æ³•ä¸Šå®šä¹‰æ³›å‹ï¼Œå¯ä»¥æ¥å—æ‰€ä»¥ç±»å‹çš„å¯¹è±¡ã€‚ï¼ˆå’Œ Object åŠŸèƒ½ä¸€æ ·ï¼Œåé¢è¿˜æœ‰æ–°çš„è¿ç”¨ï¼‰ã€‚

```java
public <W> void printf(W str){
  System.out.println("str:" + str);
}
```



**æ³›å‹æ¥å£** 

å°±åœ¨æ¥å£å£°æ˜åé¢å®šä¹‰æ³›å‹ï¼Œåœ¨å®ç°æ¥å£æ—¶æˆ–è€…å®ä¾‹åŒ–å¯¹è±¡æ—¶çŸ¥åæ³›å‹çš„å…·ä½“ç±»å‹



**æ³›å‹çš„é€šé…ç¬¦ `<?>` å’Œæ³›å‹çš„ä¸Šä¸‹é™å®šï¼ˆæ–¹æ³•çš„ä¼ å…¥æ³›å‹å‚æ•°ï¼‰** 

```java
package GenericClass;
import Java.util.*;

class Person{
  private String name;
  private int age;
  Person(String name, int age){
    this.name = name;
    this.age = age;
  }
  public String getName(){
    return name;
  }
  public int getAge(){
    return age;
  }
}
```

```java
class Student extends Person{
  Student(String name, int age){
    super(name, age);
  }
}
```

```java
class Worker extends Person{
  Worker(String name, int age){
    super(name, age);
  }
}
```

```java
public class GenericClassDemo{
  public static void main(String[] args){
    ArrayList<Student> s = new ArrayList<>();
    s.add(new Student("xx1", 11));
    s.add(new Student("xx2", 12));
    LinkedList<Worker> s1 = new LinkedList<>();
    s1.add(new Student("xx3", 13));
    s1.add(new Student("xx4", 14));
    // é›†åˆç±»å‹ä¸ä¸€è‡´ï¼Œæ“ä½œå¯¹è±¡éƒ½ä¸º Person çš„è¿­ä»£å™¨
    IteratorMethod(s);
    IteratorMethod(s1);
  }
  // é—®é¢˜ï¼š å°†<? extends Person>å˜ä¸º <Person>ä¸ºä»€ä¹ˆä¸å¯ä»¥ï¼Ÿå¿…é¡»è¦ç”¨é€šé…ç¬¦ï¼Ÿ
  // å›ç­”ï¼šCollection<Person> s = new LinkedList<Worker>(); å¾ˆæ˜æ˜¾ä¸å¯¹ï¼Œæ³›å‹ä¸ä¸€è‡´ã€‚
  // å¯ä»¥ä½¿ç”¨ <?>ï¼Œä½†æ˜¯æ²¡æ³•å¯¹ä¼ å…¥å¯¹è±¡è¿›è¡Œé™åˆ¶
  // <? extends Person> å«åšæ³›å‹çš„é™å®šï¼ˆä¸Šé™ï¼‰
  public static void IteratorMethod(Collection<? extends Person> s){
    Iterator<? extends Person> it = s.iterator(); // 
    while (it.hasNext()){
      Person p = it.next();
      System.out.println(p.getName() + "..." + p.getAge());
    }
  }
}
```

æ³¨æ„ï¼šä¸€èˆ¬å­˜å‚¨å…ƒç´ çš„æ—¶å€™ï¼Œéƒ½æ˜¯ç”¨æ³›å‹ä¸Šé™çš„ã€‚è¿™æ ·å–å‡ºéƒ½æ˜¯æŒ‰ç…§ä¸Šé™ç±»å‹æ¥è¿ç®—çš„ï¼Œä¸ä¼šå‡ºç°ç±»å‹å®‰å…¨éšæ‚£ã€‚



**extend å’Œ super çš„åŒºåˆ«** 

```java
package GenericClass;
import Java.util.Comparator;
import java.util.TreeSet;

public class GenericClassDemo1{
  public static void main(String[] args){
    //
    /*
    *
    */
    TreeSet<Student> s = new TreeSet<>(new CompaByStu());
    s.add(new Student("yy1", 11));
    s.add(new Student("yy13", 13));
    s.add(new Student("yy22", 12));
    //
    TreeSet<Worker> w = new TreeSet<>(new CompaByPer());
    w.add(new Student("yy1", 11));
    w.add(new Student("yy13", 13));
    w.add(new Student("yy22", 12));
    //
    TreeSet<Worker> p = new TreeSet<>(new CompaByPer());
    /*
    *
    */
    p.addAll(s);
    p.addAll(w);
    GenericClassDemo.iteratorMethod(s); //
    System.out.println("----åä¸½åˆ†ç•Œçº¿----");
    GenericClassDemo.iteratorMethod(w); 
    System.out.println("----åä¸½åˆ†ç•Œçº¿----");
    GenericClassDemo.iteratorMethod(p); 
  }
}
```

äººç±»æ¯”è¾ƒå™¨

```java
class CompaByPer implements Comparator<Person>{
  @Override
  public int compare(Person p1, Person p2){
    int temp;
    temp = p1.getAge() - p2.Age(); // æŒ‰ç…§å¹´é¾„æ¯”ï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™æŒ‰ç…§åå­—æ¯”
    return temp==0 ? p1.getName().compareTo(p2.getName()):temp;
  }
}
```

å­¦ç”Ÿæ¯”è¾ƒå™¨

```java
class CompaByStu implements Comparator<Student>{
  @Override
  public int compare(Student p1, Student p2){
    int temp;
    temp = p1.getAge() - p2.Age(); // æŒ‰ç…§å¹´é¾„æ¯”ï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™æŒ‰ç…§åå­—æ¯”
    return temp==0 ? p1.getName().compareTo(p2.getName()):temp;
  }
}
```

åˆ†æï¼šä¸€èˆ¬è€Œè¨€ï¼Œextend ç”¨äºå­˜å‚¨æ•°æ®ï¼Œæ¯”å¦‚äººç±»çš„å®¹å™¨ï¼Œå­¦ç”Ÿå’Œå·¥äººéƒ½å¯ä»¥å¾€é‡Œé¢å­˜å‚¨ï¼›

super ä¸€èˆ¬ç”¨äºå–å‡ºæ•°æ®ï¼Œæ¯”å¦‚å­¦ç”Ÿæ•°æ®æ™ºèƒ½ç”¨å­¦ç”Ÿæ¯”è¾ƒå™¨å’Œäººç±»æ¯”è¾ƒå™¨å–å‡ºã€‚



**æ³›å‹æ€»ç»“** 

æ³›å‹æ—¢å…·æœ‰å¹¿æ³›çš„æ¦‚å¿µï¼Œä¹Ÿå…·æœ‰å…·ä½“çš„æ¦‚å¿µï¼Œå¯ä»¥å°†å„ç§ç±»å‹è¿›è¡Œå¹¿æ³›åŒ–ï¼Œæ¯”å¦‚æ³›å‹ç±»ã€æ³›å‹æ–¹æ³•ç­‰ï¼›ä¸è¿‡æœ‰æ—¶ä¹Ÿè¦å…·ä½“åŒ–ï¼Œæ¯”å¦‚åœ¨é›†åˆä¸­æ˜ç¡®è¦å­˜å‚¨ä»€ä¹ˆç±»å‹çš„å¯¹è±¡ã€‚





### ğŸ”ŸMap é›†åˆ â­ï¸

**ç‰¹ç‚¹** 

åŒåˆ—é›†åˆï¼Œå­˜å‚¨çš„æ˜¯é”®å€¼å¯¹ï¼Œå¿…é¡»ä¿å­˜é”®çš„å”¯ä¸€æ€§ã€‚

æ‰“ä¸ªæ¯”æ–¹ï¼Œä¸€å¯¹å¤«å¦» Map é›†åˆï¼Œç»ˆç»“çš„æ˜ å°„å…³ç³»å°±æ˜¯ç»“å©šè¯ entrySetã€‚



**å¸¸ç”¨æ–¹æ³•** 

- æ·»åŠ 

  `v put(key, value)` ï¼šè¿”å›å‰ä¸€ä¸ªå’Œ key å…³è”çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰è¿”å› nullã€‚

- åˆ é™¤

  `void clear()` ï¼šæ¸…ç©º `map` é›†åˆï¼›

  `v remove(key)` ï¼šæ ¹æ®æŒ‡å®šçš„ key åˆ é™¤è¿™ä¸ªé”®å€¼å¯¹ï¼Œå¹¶è¿”å›è¯¥ key çš„é”®å€¼ã€‚

- åˆ¤æ–­

  `boolean containsKey(key)` 

  `boolean containsValue(value)` 

  `boolean isEmpty()` 

- è·å–

  `v get(key)` ï¼šè¿”å›æŒ‡å®š key çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰é”®å€¼ï¼Œåˆ™è¿”å›å€¼ã€‚

  `int size()` ï¼šè·å–é”®å€¼å¯¹çš„ä¸ªæ•°



**KeySet çš„è¿ç”¨** 

åˆ©ç”¨è¿­ä»£å™¨è¿”å›æ‰€æœ‰æŒ‰é”®å’Œé”®å€¼ã€‚

é¦–å…ˆåˆ©ç”¨ KeySet æ–¹æ³•è·å–æ‰€æœ‰æŒ‰é”®ï¼Œç„¶ååˆ©ç”¨è¿­ä»£å™¨å’Œ get æ–¹æ³•è·å–æ‰€æœ‰é”®å€¼ã€‚

è·å–é”®å€¼ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ values()ï¼Œè¿”å›æ‰€æœ‰é”®å€¼çš„é›†åˆã€‚

```java
HashMap<Integer, String> m = new HashMap<>();
m.put(1, "aaa1");
m.put(3, "aaa3");
m.put(2, "aaa2");
m.put(4, "aaa4");
Set<Integer> keyset = m.keySet(); // è·å–æ‰€æœ‰æŒ‰é”®
Iterator<Integer> it = keyset.iterator();
while(it.hasNext()){
  System.out.println(m.get(it.next())); // è·å–é”®å€¼
}
```



**entrySet çš„è¿ç”¨** 

å–å‡ºæ˜ å°„å…³ç³»ä¸æ‰€æœ‰æŒ‰é”®åŠå…¶é”®å€¼

```java
HashMap<Integer, String> m = new HashMap<>();
m.put(1, "aaa1");
m.put(3, "aaa3");
m.put(2, "aaa2");
m.put(4, "aaa4");
// è¿”å›å€¼æ˜¯æ˜ å°„å…³ç³»å¯¹è±¡çš„é›†åˆï¼ˆç»“å©šè¯ç±»å‹ï¼‰
Set<Map.Entry<Integer, String>> me = m.entrySet(); // è·å–æ‰€æœ‰æŒ‰é”®
Iterator<Map.Entry<Integer, String>> it = me.iterator();
while(it.hasNext()){
  // mevalueæ˜¯ç»“å©šè¯ç±»å‹çš„å¯¹è±¡
  Map.Entry<Integer, String> mevalue = it.next();
  // ç»“å©šè¯ç±»å‹çš„å¯¹è±¡è°ƒç”¨æ–¹æ³•
  Integer k = mevalue.getKey();
  String v = mevalue.getValue();
  System.out.println(k + "::" + v); // è·å–é”®å€¼
}
```



**Map å¸¸ç”¨å­ç±»** 

- Hashtable

  å†…éƒ¨æ˜¯å“ˆå¸Œè¡¨ï¼ŒåŒæ­¥ï¼Œä¸èƒ½ç©ºé”®ã€ç©ºå€¼ã€‚ï¼ˆå…¶ä¸­æœ‰ä¸ªå­ç±» Propertiesï¼Œåé¢ç»“åˆ `IO` æ¥å£ï¼Œé…ç½®æ–‡ä»¶ä¿¡æ¯ï¼‰

- HashMap

  å†…éƒ¨æ˜¯å“ˆå¸Œè¡¨ï¼Œä¸åŒæ­¥ï¼Œå¯ä»¥ç©ºé”®ã€ç©ºå€¼ã€‚ï¼ˆLinkedHashMap æ˜¯æœ‰åºçš„ï¼Œæ€ä¹ˆå­˜ï¼Œæ€ä¹ˆå–ï¼‰

- TreeMap

  å†…éƒ¨æ˜¯äºŒå‰æ ‘ï¼Œä¸åŒæ­¥ï¼Œå¯ä»¥å¯¹ key è¿›è¡Œæ’åº



**HashMap å­˜å‚¨è‡ªå®šä¹‰å¯¹è±¡**ï¼ˆHashSetåº•å±‚å°±æ˜¯ç”¨ HashMap è®¾è®¡çš„ï¼‰

```java
// æŒ‰é”®æ˜¯ Person å¯¹è±¡ï¼Œé”®å€¼æ˜¯å­—ç¬¦ä¸²å¯¹è±¡
HashMap<Integer, String> hm = new HashMap<>();
hm.put(new Person("xx1", 11), "ä¸Šæµ·");
hm.put(new Person("xx3", 13), "å¹¿å·");
hm.put(new Person("xx6", 16), "å—äº¬");
hm.put(new Person("xx5", 15), "åŒ—äº¬");
// è‡ªå®šä¹‰å“ˆå¸Œç®—æ³•åˆ¤æ–­ key ç›¸ç­‰ï¼Œkey ç›¸ç­‰å¯ä»¥è¦†ç›–é”®å€¼ï¼Œç¬¦åˆ Map é›†åˆçš„ç‰¹ç‚¹
// è¿­ä»£å™¨æ³¨æ„é›†åˆå†…çš„å­˜å‚¨çš„å¯¹è±¡ç±»å‹
Iterator<Person> it = hm.keySet().iterator();
while(it.hasNext()){
  Person p = it.next();
  System.out.println(p.getName() + ":" + p.getAge() + ":" + hm.get(p));
}
```





### 1âƒ£ï¸1âƒ£ï¸ é›†åˆå·¥å…·ç±» Collections

- sort æ’åº

- swap äº¤æ¢å…ƒç´ 

- binarySearch äºŒåˆ†æŸ¥æ‰¾

- maxã€main è¿”å›æœ€å¤§ã€æœ€å°å…ƒç´ 

- replaceAll æ›¿æ¢æœ€å¤§å…ƒç´ 

- reverseOrder è¿”å›ä¸€ä¸ªæ¯”è¾ƒå™¨ï¼Œå®ƒå¼ºè¡Œé€†è½¬å®ç°äº† Comparable æ¥å£çš„å¯¹è±¡ collection çš„è‡ªç„¶é¡ºåº

- shuffle å¯¹å…ƒç´ è¿›è¡Œéšæœºæ’åº

- å°†éåŒæ­¥æ–¹æ³•è½¬æˆåŒæ­¥æ–¹æ³•ï¼ˆç»™éåŒæ­¥é›†åˆåŠ é”ï¼‰

  `synchronizedCollection(Collection<T> c)` è¿”å›æŒ‡å®š collection æ”¯æŒçš„åŒæ­¥ï¼ˆçº¿ç¨‹å®‰å…¨çš„ï¼‰collectionã€‚è¿˜æœ‰å…¶å®ƒé›†åˆçš„å½¢å¼ï¼Œå°†éåŒæ­¥é›†åˆè½¬æ¢æˆåŒæ­¥é›†åˆï¼Œç”¨äºå¤šçº¿ç¨‹ã€‚





### 1âƒ£ï¸2âƒ£ï¸æ•°ç»„å·¥å…·ç±» Arrays

- binarySearch äºŒåˆ†æŸ¥æ‰¾
- å¤åˆ¶æ•°ç»„
- equalsï¼ˆæ•°ç»„1ï¼Œæ•°ç»„2ï¼‰æ¯”è¾ƒæ•°ç»„ç›¸ç­‰
- sort æ’åº
- toString å°†æ•°ç»„è½¬æˆå­—ç¬¦ä¸²è¾“å‡ºï¼ˆå€Ÿé‰´æºç æ€æƒ³ï¼Œforå¾ªç¯ä¸åŠ åˆ¤æ–­ï¼‰
- asList å°†æ•°ç»„è½¬æˆåˆ—è¡¨ Listï¼Œå¯ä»¥ä½¿ç”¨é›†åˆçš„æ–¹æ³•æ“ä½œæ•°ç»„ä¸­çš„å…ƒç´ 

æ³¨æ„

- æ•°ç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥å¯¹é›†åˆçš„å¢åˆ æ–¹æ³•æ˜¯ä¸å¯ä»¥ä½¿ç”¨çš„
- æ•°ç»„çš„å…ƒç´ æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆè½¬æˆé›†åˆï¼Œç›´æ¥å°†æ•°ç»„çš„å…ƒç´ ä½œä¸ºé›†åˆçš„å…ƒç´ è¿›è¡Œé›†åˆå­˜å‚¨
- æ•°ç»„å…ƒç´ æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆä¼šå°†æ•°ç»„ä½œä¸ºé›†åˆä¸­çš„å…ƒç´ è¿›è¡Œå­˜å‚¨ï¼ˆæ€»ä¹‹ï¼Œæ³¨æ„åŸºæœ¬æ•°æ®ç±»å‹å’Œå¯¹è±¡çš„åŒºåˆ«ï¼‰
- é›†åˆå½“ä¸­æœ‰ toArray æ–¹æ³•å°†é›†åˆè½¬æˆæ•°ç»„ï¼Œå¯ä»¥å¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œé™å®šï¼Œä¸å…è®¸è¿›è¡Œå¢åˆ ã€‚æ³¨æ„ä¼ å…¥çš„å‚æ•°ã€‚



### 1âƒ£ï¸3âƒ£ï¸JDK 1.5 ç‰¹æ€§

1. `for(ç±»å‹ å˜é‡: æ•°ç»„æˆ–è€…é›†åˆ)` éå†çš„ä½œç”¨ï¼Œå¯¹äºé›†åˆæœ¬è´¨å°±æ˜¯è¿­ä»£å™¨çš„ç®€åŒ–ã€‚

   - ä¼ ç»Ÿ for å’Œé«˜çº§ for çš„åŒºåˆ«

     ä¼ ç»Ÿçš„å¯ä»¥å®Œæˆæ§åˆ¶å¾ªç¯å¢é‡å’Œæ¡ä»¶ï¼ˆæ“ä½œè§’æ ‡ï¼‰ï¼Œè€Œé«˜çº§çš„æ˜¯ä¸€ç§ç®€åŒ–å½¢å¼ï¼ˆä¸»è¦ç”¨äºéå†ï¼‰ï¼Œå¿…é¡»æœ‰éå†çš„ç›®æ ‡ã€‚

   - é«˜çº§ for å¯ä»¥éå† map é›†åˆå—ï¼Ÿ

     ä¸èƒ½ç›´æ¥ç”¨ï¼Œä½†æ˜¯å¯ä»¥å°† map è½¬æˆ setï¼Œå°±å¯ä»¥äº†

2. å‡½æ•°å¯éå‚æ•°

   æ¯”å¦‚å‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå‚æ•°ä¸€èˆ¬ä¸º `int[] arr`ï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°æŒ‡å®šä¼ é€æ•°ç»„ï¼Œä¸ºäº†ç®€åŒ–ä¹¦å†™ï¼Œå¯ä»¥ç”¨ `int... arr` å¯ä»¥ç›´æ¥åœ¨é‡Œé¢ä¼ é€æ•°ç»„çš„å…·ä½“å€¼ã€‚













